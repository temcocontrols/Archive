10 REM ****** DECIDE HOW MANY PUMPS ************
20 REM LOAD = BLDFLOW * (BLDSUPT - BLDRETT) / 100
21 IF MECHFLAG THEN  NUMPUMPS = MIN( 4 , MAX( 1 , OAT / 10 ) )
21 IF  NOT MECHFLAG THEN  NUMPUMPS = MIN( 4 , MAX( 1 , 4 - OAT / 10 ) )
30 REM IF INTERVAL( 00:00:10 ) THEN GOTO 40 ELSE GOTO 70
35 REM NUMPUMPS = 0
40 REM IF ABS( LOAD ) > 1 THEN NUMPUMPS = 1
50 REM IF ABS( LOAD ) > 2 THEN NUMPUMPS = 2
60 REM IF ABS( LOAD ) > 3 THEN NUMPUMPS = 3
70 IF CIRCFAIL THEN  NUMPUMPS = NUMPUMPS + 1
80 IF BOILRMOD THEN  NUMPUMPS = MAX( NUMPUMPS , 1 )
90 IF MECHFLAG THEN  NUMPUMPS = MAX( NUMPUMPS , 1 )
100  NUMPUMPS = MAX( 0 , MIN( 4 , NUMPUMPS ) )
110 IF  NOT MECHFLAG AND  NOT BOILRMOD THEN  NUMPUMPS = 0
120 REM ***** ROTATE THE LEAD PUMP **************
130 IF+ DAYTIMER > 10 THEN  LEADPMP = LEADPMP + 1
140 IF LEADPMP > 4 THEN  LEADPMP = 1
150 REM **** ROTATE THE PUMPS ******************
160 IF NUMPUMPS >= 1 THEN START P1R ELSE STOP P1R
170 IF NUMPUMPS >= 2 THEN START P2R ELSE STOP P2R
180 IF NUMPUMPS >= 3 THEN START P3R ELSE STOP P3R
190 IF NUMPUMPS >= 4 THEN START P4R ELSE STOP P4R
200 REM *** START ACTUAL PUMPS *****************
210 IF LEADPMP = 1 THEN GOTO 220 ELSE GOTO 260
220  P7 = P1R
230  P8 = P2R
240  P9 = P3R
250  P10 = P4R
260 IF LEADPMP = 2 THEN GOTO 270 ELSE GOTO 310
270  P8 = P1R
280  P9 = P2R
290  P10 = P3R
300  P7 = P4R
310 IF LEADPMP = 3 THEN GOTO 320 ELSE GOTO 360
320  P9 = P1R
330  P10 = P2R
340  P7 = P3R
350  P8 = P4R
360 IF LEADPMP = 4 THEN GOTO 370 ELSE GOTO 410
370  P10 = P1R
380  P9 = P2R
390  P8 = P3R
400  P7 = P4R
410 REM **************
420 REM ***** WATCH FOR A FAILED PUMP ***************
430 STOP CIRCFAIL
440 IF TIME-ON( P7 ) > 00:00:05 AND  NOT P7S THEN START CIRCFAIL
450 IF TIME-ON( P8 ) > 00:00:05 AND  NOT P8S THEN START CIRCFAIL
460 IF TIME-ON( P9 ) > 00:00:05 AND  NOT P9S THEN START CIRCFAIL
470 IF TIME-ON( P10 ) > 00:00:05 AND  NOT P10S THEN START CIRCFAIL
